import{ab as r,H as o,I as d,G as e,V as n,O as a,ac as i,Y as c}from"./framework-c2f60e5e.js";const s={},l=e("h1",{id:"使用小米路由器4c登录西安邮电大学联通校园网",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#使用小米路由器4c登录西安邮电大学联通校园网","aria-hidden":"true"},"#"),n(" 使用小米路由器4C登录西安邮电大学联通校园网")],-1),h={class:"hint-container info"},p=e("p",{class:"hint-container-title"},"注意事项",-1),g=e("p",null,"使用广东工业大学的OpenWrt刷机包。亲测可以直接在西安邮电大学长安校区使用（联通校园网），并解除联通校园网的设备使用数量限制。适合有多台设备的同学使用。",-1),f=e("p",null,"参考文章：",-1),u={href:"https://github.com/shengqiangzhang/Drcom-GDUT-HC5661A-OpenWrt",target:"_blank",rel:"noopener noreferrer"},_={href:"https://www.right.com.cn/forum/thread-4040540-1-1.html",target:"_blank",rel:"noopener noreferrer"},b=e("div",{class:"hint-container danger"},[e("p",{class:"hint-container-title"},"说明"),e("p",null,"本教程仅供学习，请在成功刷入OpenWrt后正确使用系统，并在学习后24小时内删除相关固件和（或）软件包。")],-1),m=e("h2",{id:"步骤提要",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#步骤提要","aria-hidden":"true"},"#"),n(" 步骤提要")],-1),v=e("li",null,[e("p",null,"初始化，简单进入系统。")],-1),x=e("li",null,[e("p",null,"开启telnet和ftp，刷Breed，防止变砖。")],-1),W={href:"http://xn--Dr-iy6ct81nyqanfs54j.com",target:"_blank",rel:"noopener noreferrer"},C=e("h2",{id:"文件下载",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#文件下载","aria-hidden":"true"},"#"),n(" 文件下载")],-1),D=e("strong",null,"MobaXterm",-1),G={href:"https://mobaxterm.mobatek.net/download-home-edition.html",target:"_blank",rel:"noopener noreferrer"},P=e("strong",null,"R3GV2 patches",-1),k={href:"https://cntk-my.sharepoint.com/:u:/g/personal/599100706_mail_scun_net/EbfqzlpS8U9BhnNBz50mVLQBI98-6XU3NPFG0XlP7vJ63g?e=OZSheQ",target:"_blank",rel:"noopener noreferrer"},B=e("strong",null,"Breed",-1),A={href:"https://breed.hackpascal.net/breed-mt7688-reset38.bin",target:"_blank",rel:"noopener noreferrer"},z={href:"https://github.com/shengqiangzhang/Drcom-GDUT-HC5661A-OpenWrt#%E4%B8%8B%E8%BD%BDbreed",target:"_blank",rel:"noopener noreferrer"},O=e("strong",null,"OpenWrt",-1),E={href:"https://github.com/shengqiangzhang/Drcom-GDUT-HC5661A-OpenWrt/files/8138729/Mi4C.zip",target:"_blank",rel:"noopener noreferrer"},y=e("li",null,"（可选）自行安装OpenWrt其他软件包。",-1),I=e("h2",{id:"前置步骤-进入系统配置密码",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#前置步骤-进入系统配置密码","aria-hidden":"true"},"#"),n(" 前置步骤：进入系统配置密码")],-1),w=e("p",null,"在校内无网情况下，路由器需要先配置WIFI密码才能进行后续步骤。否则无法用命令行登录小米路由器。",-1),F=e("p",null,[n("路由器插入电源，手机或电脑搜索WIFI，找到名为"),e("code",null,"Xiaomi_****"),n("的无密码WIFI，直接连接。")],-1),T={href:"http://192.168.31.1",target:"_blank",rel:"noopener noreferrer"},j=i(`<h2 id="在小米路由器4c上开启telnet和ftp" tabindex="-1"><a class="header-anchor" href="#在小米路由器4c上开启telnet和ftp" aria-hidden="true">#</a> 在小米路由器4C上开启telnet和FTP</h2><p>解压R3GV2 patches包，双击运行<code>0.start_main.bat</code>批处理文件，期间需要在cmd窗口输入你的路由器4C的管理员密码。结束后，路由器4C就可以用telnet远程登录和使用FTP上传下载文件了。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>原理大概是运用程序漏洞提权，获取root权限并开启FTP服务。</p></div><h2 id="用telnet登录到小米路由器4c" tabindex="-1"><a class="header-anchor" href="#用telnet登录到小米路由器4c" aria-hidden="true">#</a> 用telnet登录到小米路由器4C</h2><p>在MobaXterm里新建一个session，类型telnet，主机地址为<code>192.168.31.1</code>，用户为<code>root</code>，密码空，就能登录路由器4C了。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211455225.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211458021.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211459646.png" alt="命令行出现root@XiaoQiang即可，图中未显示。" tabindex="0" loading="lazy"><figcaption>命令行出现root@XiaoQiang即可，图中未显示。</figcaption></figure><p>看到命令提示符是<code>root@XiaoQiang</code>即可完成登录。这其实就是Linux下的Shell。</p><h3 id="生成eeprom备份文件" tabindex="-1"><a class="header-anchor" href="#生成eeprom备份文件" aria-hidden="true">#</a> 生成eeprom备份文件</h3><p>在MobaXterm的telnet终端窗口键入以下命令并回车。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/mtd3 <span class="token assign-left variable">of</span><span class="token operator">=</span>/tmp/eeprom.bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>理论上讲，用dd命令可以备份路由器4C的所有分区。<strong>最好把所有分区都备份。</strong></p><h2 id="使用ftp上传breed-并下载eeprom备份文件" tabindex="-1"><a class="header-anchor" href="#使用ftp上传breed-并下载eeprom备份文件" aria-hidden="true">#</a> 使用FTP上传Breed，并下载eeprom备份文件</h2>`,14),M={href:"ftp://192.168.31.1",target:"_blank",rel:"noopener noreferrer"},X=i(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p>FTP服务使用的是游客匿名登录，无需账户和密码，可以直接回车登录。不要使用<code>root</code>账户登录。</p></div><p>把之前下载的<code>breed-mt7688-reset38.bin</code>改名为<code>breed.bin</code>，然后复制到<code>/tmp</code>目录内备用。</p><p>另外把<code>/tmp</code>目录下的<code>eeprom.bin</code>文件下载到本地，做好备份。</p><h2 id="breed的刷入与配置" tabindex="-1"><a class="header-anchor" href="#breed的刷入与配置" aria-hidden="true">#</a> Breed的刷入与配置</h2><h3 id="刷入breed" tabindex="-1"><a class="header-anchor" href="#刷入breed" aria-hidden="true">#</a> 刷入Breed</h3><p>在MobaXterm的telnet终端窗口键入命令，不出现错误提示信息就是成功了。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mtd <span class="token function">write</span> /tmp/breed.bin Bootloader
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="进入breed" tabindex="-1"><a class="header-anchor" href="#进入breed" aria-hidden="true">#</a> 进入Breed</h3><div class="hint-container warning"><p class="hint-container-title">注意</p><p>以下步骤务必正确进行。</p></div><p>拔掉路由器4C电源，用牙签按住路由器4C的<code>reset按钮</code>不松开，插上电源，路由器4C的灯会闪几下，这需要几秒钟，然后松开reset，路由器已进入Breed。</p>`,10),N={href:"http://192.168.1.1",target:"_blank",rel:"noopener noreferrer"},q=i('<p>第一次进入Breed，要在Breed里面把前面备份的<code>eeprom.bin</code>文件刷回去。进Breed-固件更新，里面可以刷eeprom。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211537572.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="刷入openwrt固件" tabindex="-1"><a class="header-anchor" href="#刷入openwrt固件" aria-hidden="true">#</a> 刷入OpenWrt固件</h2><p>现在正式开始刷入OpenWrt固件，依次点击固件更新-勾选固件-点击选择文件，选择我们刚刚下载的<code>Mi4C.bin</code>，然后耐心等待固件刷入完成。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211539496.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211540055.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>安装完成后会自动重启，这时可以不断刷新浏览器，直到管理界面显示出来，如果没有显示，建议稍后使用192.168.1.1访问管理页面。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211544294.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container tip"><p class="hint-container-title">提示</p><p>账号:<code>root</code></p><p>密码:默认没有密码或者默认密码为<code>password</code></p></div><h2 id="openwrt配置" tabindex="-1"><a class="header-anchor" href="#openwrt配置" aria-hidden="true">#</a> OpenWrt配置</h2><h3 id="端口校园网配置" tabindex="-1"><a class="header-anchor" href="#端口校园网配置" aria-hidden="true">#</a> 端口校园网配置</h3><p>选择左侧<strong>网络-接口</strong>，选择WAN6-编辑。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211620750.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>协议选择<code>PPPoE</code>，然后点击出现的 Switch Protocol（切换协议）按钮；PAP/CHAP用户名为学号+<code>@unicom</code>，例如<code>23338080@unicom</code>；密码为校园网登陆密码。随后点击<code>保存</code>，然后点击<code>保存并应用</code>。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211625399.png" alt="image-20230221162500261" tabindex="0" loading="lazy"><figcaption>image-20230221162500261</figcaption></figure><div class="hint-container warning"><p class="hint-container-title">注意</p><p>另一个端口<code>WAN</code>不要进行相同设置，只设置<code>WAN6</code>即可。因为不能多个“设备”登录同一个校园网账号。</p></div><h3 id="无线网络设置" tabindex="-1"><a class="header-anchor" href="#无线网络设置" aria-hidden="true">#</a> 无线网络设置</h3><p>选择左侧<strong>网络-无线</strong>。如果提示Disabled（已禁用）就点击Enable（启用）。可能只有一个2.4G的，也可能有一个2.4G的、一个5G的。点2.4G或5G的编辑按钮。ESSID填你想要的WiFi名称。</p><p>点击Wireless Security（无线安全）。Encryption（加密）改选为<code>WPA2-PSK</code>；Key（密码）填你想要的WiFi密码；最后点击<code>保存并应用</code>。</p><h3 id="配置dr-com插件" tabindex="-1"><a class="header-anchor" href="#配置dr-com插件" aria-hidden="true">#</a> 配置Dr.com插件</h3><p>按下图进行配置。</p><p>点击左侧<strong>网络-接口</strong>，查看<code>WAN6</code>的<code>MAC</code>地址并复制，修改此处Dr.com的<code>MAC拨号</code>的地址。</p><p>注意，在接口名称中，不一定选择的是<code>eth0.2</code>，而是选择与<code>WAN6</code>对应的接口名称，有可能是<code>eth1</code>，下图提示有误。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211706729.png" alt="image-20230221170502631" tabindex="0" loading="lazy"><figcaption>image-20230221170502631</figcaption></figure><p>在配置保存后，路由器会自动连接。耐心等待后，若可以在页面中看到接发数据，获取到了IP地址，即配置成功。</p><figure><img src="https://cdn.jsdelivr.net/gh/daaihang/PicGo/202302211642791.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><strong>如果发现路由器一直不能上网，则说明:</strong></p><ul><li>wan中，学号密码输入错误(可能性30%)；</li><li>drcom插件中，学号密码输入错误(可能性30%)；</li><li>路由器的wan没有与校园网端口连接(可能性20%)；</li><li>网线断了，或者路由器坏了(可能性15%)；</li><li>压根没开通校园网(可能性4.9%)；</li><li>端口被学校网络中心拉黑了(极少出现0.1%)。</li></ul></blockquote><h3 id="可选操作-配置防检测" tabindex="-1"><a class="header-anchor" href="#可选操作-配置防检测" aria-hidden="true">#</a> （可选操作）配置防检测</h3>',28),H={href:"https://github.com/shengqiangzhang/Drcom-GDUT-HC5661A-OpenWrt#%E6%AD%A5%E9%AA%A4%E5%85%AD%E9%85%8D%E7%BD%AE%E9%98%B2%E6%A3%80%E6%B5%8B",target:"_blank",rel:"noopener noreferrer"},S=e("h2",{id:"大功告成",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#大功告成","aria-hidden":"true"},"#"),n(" 大功告成")],-1),U=e("p",null,"🎉至此已经可以上网了！开始享受无线设备数量限制的快乐吧！",-1),V={href:"https://github.com/shengqiangzhang/Drcom-GDUT-HC5661A-OpenWrt",target:"_blank",rel:"noopener noreferrer"},L=e("div",{class:"hint-container danger"},[e("p",{class:"hint-container-title"},"再次说明"),e("p",null,"本教程仅供学习，请在成功刷入OpenWrt后正确使用系统，并在学习后24小时内删除相关固件和（或）软件包。")],-1);function Q(K,R){const t=c("ExternalLinkIcon");return o(),d("div",null,[l,e("div",h,[p,g,f,e("p",null,[n("⭐"),e("a",u,[n("在Dr.COM下使用路由器上校园网WIFI"),a(t)]),n("（若配置别的路由器则可以看这个Github项目）")]),e("p",null,[e("a",_,[n("开启telnet刷小米路由器"),a(t)])])]),b,m,e("ol",null,[v,x,e("li",null,[e("p",null,[n("刷OpenWrt，"),e("a",W,[n("配置网络和Dr.com"),a(t)]),n("。")])])]),C,e("ul",null,[e("li",null,[D,n(),e("a",G,[n("官网（MobaXterm Xserver）"),a(t)]),n("，建议下载便携版本（Portable edition）。")]),e("li",null,[P,n(),e("a",k,[n("Onedrive链接"),a(t)]),n("。")]),e("li",null,[B,n("（小米4C）"),e("a",A,[n("下载链接"),a(t)]),n("，其他路由器查看"),e("a",z,[n("这里"),a(t)]),n("的表格。")]),e("li",null,[O,n("（小米4C）Github"),e("a",E,[n("下载链接"),a(t)]),n("（内置了Dr.com插件及防检测插件）。")]),y]),I,w,F,e("p",null,[n("打开路由器默认配置界面（IP地址："),e("a",T,[n("192.168.31.1"),a(t)]),n("），跳过拨号配置界面，直接设置WIFI密码（管理员密码默认于此相同，刷入Breed后该密码会被覆盖）。随后进入路由器主页，即可关闭网页。")]),j,e("p",null,[n("在Windows上打开资源管理器，在地址栏输入"),e("a",M,[n("ftp://192.168.31.1"),a(t)]),n("然后回车，路由器4C的文件系统就出现了。")]),X,e("p",null,[n("用网线连接电脑和路由器4C的Lan口（局域网网口，而不是接入外部网络的口），在电脑上用浏览器打开"),e("a",N,[n("192.168.1.1"),a(t)]),n("就能看到Breed的网页界面了。")]),q,e("p",null,[n("具体看这里："),e("a",H,[n("shengqiangzhang/Drcom-GDUT-HC5661A-OpenWrt (github.com)"),a(t)])]),S,U,e("p",null,[n("本教程大体还是参照Github项目"),e("a",V,[n("Drcom-GDUT-HC5661A-OpenWrt"),a(t)]),n("进行配置。其他路由器可参照该项目。")]),L])}const Y=r(s,[["render",Q],["__file","Mi4C-for-Dr.com.html.vue"]]);export{Y as default};
